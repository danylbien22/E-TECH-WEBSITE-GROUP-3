:root{
  --bg: #ffffff;
  --muted: #6b7280;
  --accent: #0b6ef6;
  --card: #f8f9fb;
  --max-width: 1100px;
}

.bg-animated{position:fixed;inset:0;z-index:-2;pointer-events:none;background:linear-gradient(120deg,#f8fbff 0%, #eef6ff 30%, #fff7fb 60%, #f5fbff 100%);overflow:hidden}
.bg-animated::before,.bg-animated::after{content:"";position:absolute;inset:-20%;background-repeat:no-repeat;background-size:60% 60%;opacity:0.65;mix-blend-mode:screen;filter:blur(36px);animation:blob 12s linear infinite}
.bg-animated::before{background-image:radial-gradient(circle at 20% 30%, rgba(11,110,246,0.15), transparent 20%), radial-gradient(circle at 80% 70%, rgba(255,102,102,0.12), transparent 20%);animation-duration:18s}
.bg-animated::after{background-image:radial-gradient(circle at 70% 20%, rgba(102,51,204,0.10), transparent 18%), radial-gradient(circle at 30% 80%, rgba(0,200,150,0.09), transparent 18%);animation-duration:22s}

@keyframes blob{
  0%{transform:translate3d(0,0,0) scale(1)}
  25%{transform:translate3d(-6%,4%,0) scale(1.06)}
  50%{transform:translate3d(3%,-5%,0) scale(0.98)}
  75%{transform:translate3d(-3%,6%,0) scale(1.02)}
  100%{transform:translate3d(0,0,0) scale(1)}
}

.bg-animated .gradient-move{position:absolute;inset:0;background:linear-gradient(90deg, rgba(11,110,246,0.06), rgba(102,51,204,0.04), rgba(0,200,150,0.03));mix-blend-mode:screen;opacity:0.9;animation:pan 10s linear infinite}
@keyframes pan{0%{transform:translateX(-15%)}50%{transform:translateX(15%)}100%{transform:translateX(-15%)}}

*{box-sizing:border-box}
html,body{height:100%}
body{font-family:Inter,Segoe UI,Roboto,Arial,Helvetica,sans-serif;margin:0;background:var(--bg);color:#111}
.container{max-width:var(--max-width);margin:0 auto;padding:28px}

header{display:flex;justify-content:space-between;align-items:center;gap:16px}
header h1{margin:0;font-size:1.25rem}
.controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
input[type="search"]{padding:8px 12px;border:1px solid #e5e7eb;border-radius:8px;width:220px}

.tags,.subjects{display:flex;gap:8px;flex-wrap:wrap}
.tag,.subject{padding:6px 10px;background:#f1f5fb;border-radius:999px;font-size:0.85rem;cursor:pointer;border:1px solid transparent;color:#0f172a}
.tag.active,.subject.active{background:var(--accent);color:#fff;border-color:rgba(0,0,0,0.05)}
.subject.empty{opacity:0.6;cursor:not-allowed}

.subject, .btn{transition:transform .12s cubic-bezier(.2,.9,.2,1),box-shadow .12s ease,background-color .12s ease,color .12s ease;display:inline-block}
.subject:active, .btn:active{transform:translateY(1px) scale(0.995)}
.subject.active, .btn.primary{transform:translateY(-3px) scale(1.02);box-shadow:0 10px 22px rgba(11,110,246,0.12)}

button[disabled], .subject.empty[aria-disabled="true"]{pointer-events:none;opacity:0.6}

.subject:focus,.btn:focus{outline:3px solid rgba(11,110,246,0.18);outline-offset:2px}

.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:20px}
.card{background:var(--card);padding:14px;border-radius:10px;border:1px solid #eef2f6;display:flex;flex-direction:column;gap:8px}
.card h3{margin:0;font-size:1.05rem}
.meta{font-size:0.85rem;color:var(--muted)}
.contributors{display:flex;gap:8px;align-items:center}
.contrib{background:#fff;padding:6px 8px;border-radius:999px;border:1px solid #e6eefb;font-size:0.85rem}
.links{margin-top:auto;display:flex;gap:8px}
.btn{padding:8px 10px;border-radius:8px;text-decoration:none;border:1px solid transparent;background:#fff;color:var(--accent);font-weight:600;display:inline-block}
.btn.primary{background:var(--accent);color:#fff}

.subject-buttons{display:flex;gap:6px;flex-wrap:wrap}
.subject-buttons .subject{background:#f3f6fb;padding:6px 8px;font-size:0.78rem;border-radius:6px}
.subject-buttons .subject.empty{background:transparent;color:#6b7280;cursor:not-allowed}

footer{margin-top:32px;color:var(--muted);font-size:0.9rem;text-align:center;padding-bottom:18px}

.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;padding:20px;z-index:40}
.modal-backdrop.show{display:flex}
.modal{background:#fff;border-radius:10px;max-width:820px;width:100%;padding:20px;border:1px solid #e6eefb;box-shadow:0 10px 30px rgba(2,6,23,0.12)}
.modal .row{display:flex;gap:16px;flex-wrap:wrap}

.modal{max-height:calc(100vh - 80px);overflow:auto}
#modalBody{max-height:calc(100vh - 180px);overflow:auto;padding-right:6px}
#modalViewer{width:100%;max-height:48vh;object-fit:contain;border-radius:8px;display:block;background:#fafbfe;border:1px solid #eef2f6}
#modalGallery{display:flex;gap:8px;flex-wrap:nowrap;margin-top:12px;overflow-x:auto;padding-bottom:8px}
#modalGallery::-webkit-scrollbar{height:8px}
#modalGallery::-webkit-scrollbar-thumb{background:rgba(11,110,246,0.18);border-radius:6px}
#modalGallery img{flex:0 0 auto}
.modal .meta{margin-bottom:8px}
.modal .close{margin-left:auto;background:transparent;border:0;font-size:1rem;cursor:pointer;color:var(--muted)}
.modal .type{display:inline-block;padding:6px 10px;border-radius:999px;background:#eef6ff;color:var(--accent);font-weight:600}
#modalViewer{width:100%;max-height:420px;object-fit:contain;border-radius:8px;display:block;background:#fafbfe;border:1px solid #eef2f6}
#modalGallery{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
#modalGallery img{width:100px;height:70px;object-fit:cover;border-radius:6px;border:1px solid #e6eefb;cursor:pointer}

@media (max-width:720px){
  .container{padding:18px}
  header{flex-direction:column;align-items:flex-start}
  input[type="search"]{width:100%}
  .modal .row{flex-direction:column}
}

.hero{display:flex;gap:18px;align-items:flex-start;background:linear-gradient(135deg,#f8fbff,#eef6ff);padding:18px;border-radius:10px;border:1px solid #e6f0fb;margin-bottom:18px}
.hero h2{margin:0;font-size:1.1rem}
.members-grid{display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end}
.member-card{display:flex;flex-direction:column;align-items:center;gap:8px;background:transparent;border-radius:8px;padding:6px;cursor:pointer;min-width:90px}
.member-card:hover{transform:translateY(-3px);transition:transform .18s ease}
.avatar{width:72px;height:72px;border-radius:999px;object-fit:cover;border:3px solid #fff;box-shadow:0 6px 18px rgba(8,30,63,0.08)}
.member-name{font-size:0.85rem;text-align:center;color:#0b2540}

.title-link{cursor:pointer;display:inline-block;color:var(--accent);font-weight:600}
.member-card .member-name{cursor:pointer}

.thumb{width:100px;height:70px;object-fit:cover;border-radius:6px;border:1px solid #e6eefb;cursor:pointer}

.muted{color:var(--muted)}
